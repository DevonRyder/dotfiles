[colors]
font-icons = #fff
accent = #3971ED
accent-alt = #A36AC7
urgent = #F96A38

background = #33000000
background-alt = #333971ED
foreground = #fff

[bar/main]
monitor = ${env:MONITOR:DP-1}
width = 100%
height = 30
radius = 0 
fixed-center = true
bottom = true

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 2

padding-left = 0
padding-right = 5
module-margin-left = 5
module-margin-right = 5

font-0 = FontAwesome:pixelsize=10;3
font-1 = Roboto:pixelsize=10;3
font-2 = Siji:pixelsize=10;3

modules-left = time weather mpd 
modules-center = i3 
modules-right = pkg_updates cpu memory temperature date 

label-layout = %layout%

label-indicator-padding = 0
label-indicator-margin = 0

; --------------- ;
; --- MODULES --- ;
; --------------- ;

[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false
strip-wsnumbers = true

label-background = ${colors.background}

label-mode-padding = 2
label-mode-foreground = ${colors.urgent}
label-mode-background = ${colors.background}

; focused = Active workspace on focused monitor
label-focused = %name%
label-focused-foreground = ${colors.accent}
label-focused-background = ${colors.background-alt} 
label-focused-padding = 4

; unfocused = Inactive workspace on any monitor
label-unfocused = %name%
label-unfocused-foreground = #b3e0e0e0
label-unfocused-background = ${self.label-background}
label-unfocused-padding = 4

; visible = Active workspace on unfocused monitor
label-visible = %name%
label-visible-foreground = #fff
label-visible-background = ${self.label-background}
label-visible-padding = 4

; urgent = Workspace with urgency hint set
label-urgent = %name%
label-urgent-foreground = ${colors.urgent}
label-urgent-background = ${self.label-background}
label-urgent-padding = 4

[module/weather]
type = custom/script
interval = 1200
format = <label>
exec = ~/.config/polybar/weather.py

format-prefix = " "
format-prefix-padding = 4
format-prefix-foreground = ${colors.font-icons}

[module/mpd]
type = internal/mpd

host = 127.0.0.1
port = 6600
password = 

interval = 2

padding = 5

[module/pkg_updates]
type = custom/script
interval = 120
format = <label>
format-prefix = ""
format-prefix-padding = 4
format-prefix-foreground = ${colors.font-icons}
exec = ~/.config/polybar/updates.sh
; exec if internet connection
exec-if = "ping -q -w 2 -c 1 176.34.135.167 > /dev/null"

label = "%output:0:30%"

[module/cpu]
type = internal/cpu
interval = 2

format = <label> <ramp-coreload>
format-prefix = ""
format-prefix-padding = 4
format-prefix-foreground = ${colors.font-icons}
label =  "%percentage%%"
label-padding-right = 3

ramp-coreload-0 = ▁
ramp-coreload-0-font = 2
ramp-coreload-0-foreground = ${colors.accent}
ramp-coreload-1 = ▂
ramp-coreload-1-font = 2
ramp-coreload-1-foreground = ${colors.accent}
ramp-coreload-2 = ▃
ramp-coreload-2-font = 2
ramp-coreload-2-foreground = ${colors.accent}
ramp-coreload-3 = ▄
ramp-coreload-3-font = 2
ramp-coreload-3-foreground = ${colors.accent}
ramp-coreload-4 = ▅
ramp-coreload-4-font = 2
ramp-coreload-4-foreground = ${colors.accent-alt}
ramp-coreload-5 = ▆
ramp-coreload-5-font = 2
ramp-coreload-5-foreground = ${colors.accent-alt}
ramp-coreload-6 = ▇
ramp-coreload-6-font = 2
ramp-coreload-6-foreground = ${colors.urgent}
ramp-coreload-7 = █
ramp-coreload-7-font = 2
ramp-coreload-7-foreground = ${colors.urgent}

[module/memory]
type = internal/memory
interval = 2

label = "%gb_used%"
label-padding-right = 3

format = <label> <bar-used>
format-prefix = " "
format-prefix-padding = 4
format-prefix-foreground = ${colors.font-icons}

bar-used-width = 20
bar-used-foreground-0 = ${colors.accent}
bar-used-foreground-1 = ${colors.accent}
bar-used-foreground-2 = ${colors.accent}
bar-used-foreground-3 = ${colors.urgent}
bar-used-indicator = |
bar-used-indicator-foreground = #fff
bar-used-fill = ─
bar-used-empty = ─
bar-used-empty-foreground = ${colors.background-alt}

[module/temperature]
type = custom/script
interval = 5
exec-if = sensors
exec = sensors | grep Core | awk '{print substr($3, 2, length($3)-5)}'

format = "<label>"
format-prefix = ""
format-prefix-padding = 4
format-prefix-foreground = ${colors.font-icons}
format-suffix = "°C"
format-suffix-padding = 2

[module/time]
type = internal/date
interval = 5

time = "%H:%M        %I:%M %P"

label =  "%time%"
label-foreground = ${colors.foreground}
label-background = ${colors.background-alt}
label-padding = 5

[module/date]
type = internal/date
interval = 5
date = "%a, %b  %d, %Y"

label =  "%date%"    
label-foreground = ${colors.foreground}
label-background = ${colors.background-alt}
label-padding = 5

; ------------------------------ ;
; --- OTHER POLYBAR SETTINGS --- ;
; ------------------------------ ;

[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over

[global/wm]
margin-top = 5
margin-bottom = 5

; vim:ft=dosini
